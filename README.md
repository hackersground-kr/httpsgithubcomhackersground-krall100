# `{{ ì˜¬ë°± }}` - `{{ ì¹˜ë§¤í™˜ì ë³´í˜¸ ì„œë¹„ìŠ¤ }}`

í•´ì»¤ê·¸ë¼ìš´ë“œ í•´ì»¤í†¤ì— ì°¸ì—¬í•˜ëŠ” `{{ ì˜¬ë°± }}` íŒ€ì˜ `{{ ì¹˜ë§¤í™˜ì ë³´í˜¸ ì„œë¹„ìŠ¤ }}`ì…ë‹ˆë‹¤.

## ì°¸ê³  ë¬¸ì„œ

> ì•„ë˜ ë‘ ë§í¬ëŠ” í•´ì»¤í†¤ì—ì„œ ì•±ì„ ê°œë°œí•˜ë©´ì„œ ì°¸ê³ í•  ë§Œí•œ ë¬¸ì„œë“¤ì…ë‹ˆë‹¤. ì´ ë¬¸ì„œë“¤ì—ì„œ ì–¸ê¸‰í•œ ì„œë¹„ìŠ¤ ì´ì™¸ì—ë„ ë” ë§ì€ ì„œë¹„ìŠ¤ë“¤ì´ PaaS, SaaS, ì„œë²„ë¦¬ìŠ¤ í˜•íƒœë¡œ ì œê³µë˜ë‹ˆ ì°¸ê³ í•˜ì„¸ìš”.

- [ìˆœí•œë§›](./REFERENCES_BASIC.md)
- [ë§¤ìš´ë§›](./REFERENCES_ADVANCED.md)

## ì œí’ˆ/ì„œë¹„ìŠ¤ ì†Œê°œ

<!-- ì•„ë˜ ë§í¬ëŠ” ì§€ìš°ì§€ ë§ˆì„¸ìš” -->
[ì œí’ˆ/ì„œë¹„ìŠ¤ ì†Œê°œ ë³´ê¸°](TOPIC.md)
<!-- ìœ„ ë§í¬ëŠ” ì§€ìš°ì§€ ë§ˆì„¸ìš” -->

## ì˜¤í”ˆ ì†ŒìŠ¤ ë¼ì´ì„¼ìŠ¤

<!-- ì•„ë˜ ë§í¬ëŠ” ì§€ìš°ì§€ ë§ˆì„¸ìš” -->
[ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ì„¼ìŠ¤ ë³´ê¸°](./LICENSE)
<!-- ìœ„ ë§í¬ëŠ” ì§€ìš°ì§€ ë§ˆì„¸ìš” -->

## ì„¤ì¹˜ ë°©ë²•

> **ì•„ë˜ ì œê³µí•˜ëŠ” ì„¤ì¹˜ ë°©ë²•ì„ í†µí•´ ì‹¬ì‚¬ìœ„ì›ë‹¨ì´ ì—¬ëŸ¬ë¶„ì˜ ì œí’ˆ/ì„œë¹„ìŠ¤ë¥¼ ì‹¤ì œ Microsoft ì• ì € í´ë¼ìš°ë“œì— ë°°í¬í•˜ê³  ì„¤ì¹˜í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ë§Œì•½ ì•„ë˜ ì„¤ì¹˜ ë°©ë²•ëŒ€ë¡œ ë”°ë¼í•´ì„œ ë°°í¬ ë° ì„¤ì¹˜ê°€ ë˜ì§€ ì•Šì„ ê²½ìš° ë³¸ì„ ì— ì§„ì¶œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.**

### ì‚¬ì „ ì¤€ë¹„ ì‚¬í•­

> **ì—¬ëŸ¬ë¶„ì˜ ì œí’ˆ/ì„œë¹„ìŠ¤ë¥¼ Microsoft ì• ì € í´ë¼ìš°ë“œì— ë°°í¬í•˜ê¸° ìœ„í•´ ì‚¬ì „ì— í•„ìš”í•œ ì¤€ë¹„ ì‚¬í•­ë“¤ì„ ì ì–´ì£¼ì„¸ìš”.**
- GitHub Account
- Azure Free Account
- Visual Studio Code
- GitHub CLI
- Azure CLI
- Azure Developer CLI

## ì‹œì‘í•˜ê¸°

> **ì—¬ëŸ¬ë¶„ì˜ ì œí’ˆ/ì„œë¹„ìŠ¤ë¥¼ Microsoft ì• ì € í´ë¼ìš°ë“œì— ë°°í¬í•˜ê¸° ìœ„í•œ ì ˆì°¨ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ë‚˜ì—´í•´ ì£¼ì„¸ìš”.**
1. Azureë¡œ ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ì„ ë§Œë“¤ì–´ì£¼ì„¸ìš”.
   - ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ ì´ë¦„ì€ rg-hg(ëœë¤ìˆ«ìì¡°í•©)ìœ¼ë¡œ í•˜ë©°, ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ì˜ ìœ„ì¹˜ëŠ” Korea Centralë¡œ í•©ë‹ˆë‹¤.
![image](https://github.com/hackersground-kr/httpsgithubcomhackersground-krall100/assets/84391428/7719ac1d-619f-4f18-bfff-5b5bea877ec2)

2. ì €í¬ GitHubì—ì„œ forkë¥¼ í•´ì£¼ì„¸ìš”
   
3. app service & app service plan ë§Œë“¤ê¸°
   - App Service plan (ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ ë°–ì—ì„œ ê²€ìƒ‰ì‹œ App Service ìš”ê¸ˆì œ) ë¶€í„° ë§Œë“¤ì–´ì£¼ì„¸ìš”
     * ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ ë°–ì—ì„œ ê²€ìƒ‰í•´ì£¼ì„¸ìš”
     ì´ë¦„ : asplan-hg(ëœë¤ìˆ«ì)
     ìš´ì˜ì²´ì œ : ë¦¬ëˆ…ìŠ¤
     ì§€ì—­ : Central Korea
     ê°€ê²© í”Œëœ : B1
   - App Service (ê²€ìƒ‰ì‹œ ì›¹ ì•±)
     ì´ë¦„ : appsvc-hg(ëœë¤ìˆ«ì)
     ìš´ì˜ì²´ì œ : ë¦¬ëˆ…ìŠ¤
     ì§€ì—­ : Central Korea
     ê°€ê²© í”Œëœ : B1
     ë¦¬ëˆ…ìŠ¤ í”Œëœ : ê¸°ë³¸ defaultë¡œ í•´ì£¼ì„¸ìš”
4. Secrete Key ì„¤ì •í•˜ê¸°
- í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

    ```bash
    azd auth login
    ```

   > ìƒˆ ì›¹ ë¸Œë¼ìš°ì € íƒ­ì´ ë‚˜íƒ€ë‚˜ë©´ì„œ 404 ì—ëŸ¬ê°€ ë³´ì¸ë‹¤ë©´ ì£¼ì†Œì°½ì˜ `http://localhost...`ë¡œ ì‹œì‘í•˜ëŠ” ì£¼ì†Œë¥¼ ë³µì‚¬í•´ì„œ ìƒˆ í„°ë¯¸ë„ ì°½ì— `curl` ëª…ë ¹ì–´ì™€ í•¨ê»˜ ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤.
   > ì´ ë•Œ ìƒˆ í„°ë¯¸ë„ ì°½ì„ bash í„°ë¯¸ë„ë¡œ ì—´ì–´ì„œ ì˜ ì‹¤í–‰ì´ ì•ˆ ëœë‹¤ë©´, zsh í„°ë¯¸ë„ë¡œ ì—´ì–´ì„œ í•´ ë³´ì„¸ìš”.

- ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì°¨ë¡€ë¡œ ì…ë ¥í•©ë‹ˆë‹¤.

    ```bash
    # Set AZURE_ENV_NAME
    AZURE_ENV_NAME="hg$RANDOM"

    # Get AZURE_ENV_NAME
    echo $AZURE_ENV_NAME
    ```

- ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•´ì„œ Azure Dev CLI êµ¬ì„±ì„ ì‹œì‘í•©ë‹ˆë‹¤.

    ```bash
    azd init -e $AZURE_ENV_NAME
    ```

   ì•„ë˜ì™€ ê°™ì€ í”„ë¡¬í”„íŠ¸ê°€ ëª‡ ê°œ ë‚˜ì˜¤ëŠ”ë° ê³„ì†í•´ì„œ `y`ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

   - **The current directory is not empty. Would you like to initialize a project here in '/workspaces/{{REPOSITORY_NAME}}'? (y/N)** ğŸ‘ˆ `y` ì…ë ¥
   - **Select a project template:  [Use arrows to move, type to filter]** ğŸ‘ˆ `Starter - Bicep` ì„ íƒ
   - **What would you like to do with these files?  [Use arrows to move, type to filter]** ğŸ‘ˆ `Keep my existing files unchanged` ì„ íƒ
5. key githubì— ë„£ì–´ì£¼ê¸°
- ë³´ë¥˜
6. secrete key codespaceì— ë°˜ì˜
- main_parameters.jsonì— ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ë°‘ì— ì‚½ì…í•˜ê¸°
```
      "rg_name": {
        "value": "${AZURE_RG_NAME}"
      },
      "app_name": {
        "value": "${AZURE_APPSERVICE_NAME}"
      }
```
- git bashì— ì…ë ¥í•´ì£¼ê¸°
```
AZURE_APPSERVICE_NAME=2ë²ˆì—ì„œ ë§Œë“¤ì—ˆë˜ ì•± ì„œë¹„ìŠ¤ í”Œëœ ì´ë¦„
AZURE_RG_NAME=ìì‹ ì˜ ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ ì´ë¦„
```
## 7. GitHub Actions ì‹œí¬ë¦¿ ì¶”ê°€í•˜ê¸° (github settingsì— secrete key ì„¤ì •í•˜ê¸°)

1. í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì• ì €ì— ë¡œê·¸ì¸í•©ë‹ˆë‹¤.

    ```bash
    az login
    ```

   > ìƒˆ ì›¹ ë¸Œë¼ìš°ì € íƒ­ì´ ë‚˜íƒ€ë‚˜ë©´ì„œ 404 ì—ëŸ¬ê°€ ë³´ì¸ë‹¤ë©´ ì£¼ì†Œì°½ì˜ `http://localhost...`ë¡œ ì‹œì‘í•˜ëŠ” ì£¼ì†Œë¥¼ ë³µì‚¬í•´ì„œ ìƒˆ í„°ë¯¸ë„ ì°½ì— `curl` ëª…ë ¹ì–´ì™€ í•¨ê»˜ ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤.
   > ì´ ë•Œ ìƒˆ í„°ë¯¸ë„ ì°½ì„ bash í„°ë¯¸ë„ë¡œ ì—´ì–´ì„œ ì˜ ì‹¤í–‰ì´ ì•ˆ ëœë‹¤ë©´, zsh í„°ë¯¸ë„ë¡œ ì—´ì–´ì„œ í•´ ë³´ì„¸ìš”.
   > ìœ„ì˜ ë‘ ë°©ë²•ì´ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ í•´ë‹¹ `az login --use-device-code` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.

1. ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ í˜„ì¬ êµ¬ë…ì„ í™•ì¸í•©ë‹ˆë‹¤.

    ```bash
    az account show
    ```

1. ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì• ì € ë¡œê·¸ì¸ í‚¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì´ ë•Œ ì´ë¦„ì˜ `hg{{ìˆ«ì}}`ëŠ” ì•ì„œ ìƒì„±í•œ `AZURE_ENV_NAME`ì…ë‹ˆë‹¤. (`echo $AZURE_ENV_NAME`ë¡œ í™•ì¸ ê°€ëŠ¥.)

    ```bash
    subscriptionId=$(az account show --query "id" -o tsv)
    az ad sp create-for-rbac \
        --name "spn-hg{{ìˆ«ì}}" --role contributor \
        --scopes /subscriptions/$subscriptionId \
        --sdk-auth
    ```

   ìƒì„±ëœ í‚¤ëŠ” ëŒ€ëµ ì•„ë˜ì™€ ê°™ì€ ëª¨ì–‘ì…ë‹ˆë‹¤. ì•„ë˜ `clientId`, `clientSecret`, `subscriptionId`, `tenantId` ê°’ì€ ì˜ˆì‹œì¼ ë¿ ì‹¤ì œë¡œ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê°’ì…ë‹ˆë‹¤.

    ```json
    {
      "clientId": "9814fa03-26b8-4ce0-9021-121d16cc929f",
      "clientSecret": "uOR^Pt*Tv7iMqtzrQe1Zq5Djlf*K4P8QzALlNfw#",
      "subscriptionId": "a348f9f2-dc63-4083-b19b-4f235e0b5175",
      "tenantId": "4e18dd75-d9e5-4afc-ad7e-ac436d98e812",
      "activeDirectoryEndpointUrl": "https://login.microsoftonline.com",
      "resourceManagerEndpointUrl": "https://management.azure.com/",
      "activeDirectoryGraphResourceId": "https://graph.windows.net/",
      "sqlManagementEndpointUrl": "https://management.core.windows.net:8443/",
      "galleryEndpointUrl": "https://gallery.azure.com/",
      "managementEndpointUrl": "https://management.core.windows.net/"
    }
    ```

1. ìœ„ì— ìƒì„±í•œ JSON ê°œì²´ë¥¼ GitHub ë¦¬í¬ì§€í† ë¦¬ ì„¤ì • íƒ­ì˜ Secrets ì„¹ì…˜ì—ì„œ `AZURE_CREDENTIALS` ê°’ìœ¼ë¡œ ì…ë ¥í•©ë‹ˆë‹¤.
1. ì•ì„œ ìƒì„±í•œ `AZURE_ENV_NAME` ê°’ì„ ì‹œí¬ë¦¿ìœ¼ë¡œ ì…ë ¥í•©ë‹ˆë‹¤.
   - Name : (echo $AZURE_ENV_NAMEì„ bashì— ì¹˜ë©´ í™•ì¸ ê°€ëŠ¥)
   - hg(ëœë¤ìˆ«ì)

8. ë°°í¬í•˜ê¸°
- ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì½”ë“œë¥¼ í‘¸ì‹œí•˜ê³  GitHub ì•¡ì…˜ ì›Œí¬í”Œë¡œìš°ê°€ ì‘ë™í•˜ëŠ” ê²ƒì„ í™•ì¸í•©ë‹ˆë‹¤.
```
git add .
git commit -m "Add GitHub Actions workflow"
git push origin
```
